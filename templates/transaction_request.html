{% extends 'base.html' %}

{% block title %} Requests {% endblock %}

{% block content %}

{% if messages %}
{% for message in messages %}
<div class="alert alert-{{ message.tags }}">
    {{ message }}
</div>
{% endfor %}
{% endif %}

<h2>Requests :</h2>
<hr/>
{% if requests %}

{% for request in requests %}

<div class="card text-left">
    <div class="card-header">
        Seller: {{ request.offerrer }}</a>
    </div>
    <div class="card-body">

                <div class="d-flex justify-content-between">
                    <div>
                        <h5 class="card-title">{{ request.requester_book.book_name }}</h5>
                        {% if request.requester_book.author_name %}
                        <p class="card-text">Author name: {{ request.requester_book.author_name }}</p>
                        {% endif %}
                        <p class="card-text">Condition : {{ request.requester_book.condition }} </p>
                    </div>
                    <div class="mr-3">
                        {% if request.requester_book.image_url %}
                        <img src="{{ request.requester_book.image_url }}">
                        {% endif %}       
                    </div>
                </div>

    </div>
    <div class="card-footer text-mutxed">

        <a href="{% url 'transaction:request-delete' request.id %}" class="mr-2 btn btn-danger float-right">Cancel Request</a>
    </div>
</div>
</br>
{% endfor %}

{% else %}

<h2 align="center">No Requests Found! Make a request !</h2>

<br />

<div class="container">
    <div class="row">
        <div class="col text-center">
            <a class="btn btn-success btn-lg center" href="{% url 'coreapp:list_entries' %}"> Home </a>
        </div>
    </div>
</div>

{% endif %}


{% endblock %}